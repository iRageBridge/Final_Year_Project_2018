<div>
    <h1>IrishPF Database</h1>
    <h3><input type="text" (keyup)="search($event)" id="search" placeholder="Search Athletes..." required>
    </h3>
</div>
<div *ngFor="let athlete of athletes">
    <h4><a [routerLink]="'/athletes/' + athlete.id">{{athlete.name}}</a></h4>
    <h6 style="color: #93C54B">Best Result:</h6>
    <p>
        <button (click)="openPopup(content,athlete.id)">Stats</button><input *ngIf="isLoggedIn" type="checkbox"> Squat: {{athlete?.squat}}kg | Bench: {{athlete?.bench}}kg | Deadlift: {{athlete?.deadlift}}kg | Total: {{athlete?.total}}kg | Bodyweight: {{athlete?.bodyweight}}kg | Wilks: {{athlete.wilks}}  
        <ng-template #content let-c="close" let-d="dismiss">
            <div class="modal-header">
                <h4 class="modal-title">ID: {{athlete.id}}</h4>
                <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div *ngFor="let result of results">
                    <p *ngIf="result.id == athlete.id">{{result.wilks}}</p>
                </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-outline-dark" (click)="c('Close click')">Close</button>
            </div>
        </ng-template>
    </p>
    <hr/>
</div>

<div>
    <button *ngIf="athletes.length % 20 == 0" (click)="loadMore()">Load More athletes</button>
</div>

<div *ngIf="athletes.length < 1">
    <hr/>
    <p>
        No athletes Found.
    </p>
</div>
